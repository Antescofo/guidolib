PyGuido: Installation Notes for Mac
===================================

Dependencies
------------

- XCode 4
- Python 2.7, 64-bit (tested with EPD 7.3-2 64-bit)
- Qt 4.7.4 SDK (you may need to compile this yourself)
- PySide (you may need to compile this yourself)

Please check PyGuido/CMakeLists.txt - you may need to adjust some paths.

Steps
-----

1) Setup directories
extract guidolib-1.49-src.tgz into subdirectory "guidolib-1.49-src"

2) Patch files
in Terminal:
##
patch guidolib-1.49-src/cmake/CMakeLists.txt patches/guidolib-1.49-src/cmake/CMakeLists.txt.patch
patch guidolib-1.49-src/Qt/GuidoQt/include/Guido2Image.h patches/guidolib-1.49-src/Qt/GuidoQt/include/Guido2Image.h.patch
patch guidolib-1.49-src/src/include/GUIDO2Midi.h patches/guidolib-1.49-src/src/include/GUIDO2Midi.h.patch
patch guidolib-1.49-src/src/include/GUIDOEngine.h patches/guidolib-1.49-src/src/include/GUIDOEngine.h.patch
patch guidolib-1.49-src/src/include/GUIDOScoreMap.h patches/guidolib-1.49-src/src/include/GUIDOScoreMap.h.patch
patch guidolib-1.49-src/src/include/VGColor.h patches/guidolib-1.49-src/src/include/VGColor.h.patch
##


3) Build GuidoLib
in Terminal:
##
cd guidolib-1.49-src/cmake
mkdir build-mac
cd build-mac
cmake -G "Xcode" ..
xcodebuild -project guidolib.xcodeproj -configuration Release -sdk macosx10.7
cd ../../..
mkdir lib
mkdir lib/mac
cp -R guidolib-1.49-src/cmake/build-mac/Release/* lib/mac/
##

4) Build GuidoQt
in Terminal:
##
cd guidolib-1.49-src/Qt
mkdir build-mac
cp -R GuidoQt/* build-mac
cd build-mac
qmake -spec macx-g++ GuidoQt.pro # note: -spec macx-xcode does not work
##

open file "guidolib-1.49-src/Qt/build-mac/Makefile" and changes lines 14-15 to:
##
CFLAGS        = -pipe -g -gdwarf-2 -arch x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -fPIC $(DEFINES)
CXXFLAGS      = -pipe -g -gdwarf-2 -arch x86_64 -Xarch_x86_64 -mmacosx-version-min=10.5 -fPIC $(DEFINES)
##

continue in Terminal:
##
make
cd ../../..
cp guidolib-1.49-src/Qt/build-mac/libGuidoQt.a lib/mac/
##

5) Build PyGuido
in Terminal:
##
cd PyGuido
mkdir build-mac
cd build-mac
cmake -G "Xcode" ..
xcodebuild -project PyGuido.xcodeproj -configuration Release
cd ../..
cp PyGuido/build-mac/Release/PyGuido.so lib/mac/
##

