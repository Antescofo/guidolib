<!DOCTYPE html>
<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js" type="text/javascript"></script>
    <title>Guido Engine</title>
    <script type="text/javascript">
      var simpleGets = ["gmn","width","height","page","marginleft",
      "marginright","marginbottom","margintop",
      "format","resizepagetomusic","pagemap","systemmap"];
      function manageAdditionalFields() {
        var getmenu = document.getElementById("getmenu");
        var extrafields = document.getElementById("extrafields");
        for (var i = 0; i < simpleGets.length; i++)
        {
          if (getmenu.value == simpleGets[i])
          {
            extrafields.innerHTML = '';
            return;
          }
        }
        if (getmenu.value == 'staffmap')
        {
          extrafields.innerHTML = '<label for="staff">Staff:</label><input type="text" \
          value="1" name="staff" id="staff" /><br/>';
        }
        else if (getmenu.value == 'voicemap')
        {
          extrafields.innerHTML = '<label for="voice">Voice:</label>\
          <input type="text" value="1" name="voice" id="voice" /><br />';
        }
        else if (getmenu.value == 'point')
        {
          extrafields.innerHTML = '<select id="maptype" name="maptype" \
          onchange="manageMapAdditionalFields()">\
          <option value="page" selected>page</option>\
          <option value="system">system</option>\
          <option value="staff">staff</option>\
          <option value="voice">voice</option>\
          </select>\
          <div id="mapextrafields"></div>\
          <label for="x">X coordinate:</label><input type="text" value="1" \
          name="x" id="x" /><br /><label for="y">Y coordinate:</label><input type="text" value="1" \
          name="y" id="y" /><br />';
        }
      }
      function manageMapAdditionalFields() {
        var getmenu = document.getElementById("maptype");
        var extrafields = document.getElementById("mapextrafields");
        if (getmenu.value == 'staff')
        {
          extrafields.innerHTML = '<label for="staff">Staff:</label><input type="text" value="1" name="staff" id="staff" />';
        }
        else if (getmenu.value == 'voice')
        {
          extrafields.innerHTML = '<label for="voice">Voice:</label><input type="text" value="1" name="voice" id="voice" />';
        }
        else
        {
          extrafields.innerHTML = '';
        }
      }
    </script>
  </head>
  <body>
    <center>
      <h1>Guido Engine Online</h1>
      <h2>Score Visualizer</h2>
      <br />
      <table>
        <tr>
	  <td>
	    <form action="showGuido.php" target="score" method="post">
	      <textarea rows=43 cols=54 type="text" name="gmn" id="gmn">[a b c]</textarea>
	      <br />
	      <label for="width">Width:</label><input type="text" value="100"
	      name="width" id="width" />
	      <label for="height">Height:</label><input type="text" value="100"
	      name="height" id="height" /><br />
	      <label for="page">Page:</label><input type="text" value="1"
	      name="page" id="page" /><br />
	      <label for="marginleft">Left margin:</label><input type="text" value="10"
	      name="marginleft" id="marginleft" />
	      <label for="marginright">Right margin:</label><input type="text" value="10"
	      name="marginright" id="marginright" /><br />
	      <label for="margintop">Top margin:</label><input type="text" value="10"
	      name="margintop" id="margintop" />
	      <label for="marginbottom">Bottom margin:</label><input type="text" value="10"
	      name="marginbottom" id="marginbottom" /><br />
	      <label for="resizepagetomusic">Resize page to music?</label>
	      <input type="checkbox" name="resizepagetomusic" value="true"
	      checked /><br />
	      <label for="format">Format:</label>
	      <select name="format" id="format">
	        <option value="png" selected>png</option>
	        <option value="jpg">jpg</option>
	        <option value="gif">gif</option>
	      </select><br />
	      <input type="submit" value="visualize score">
	    </form>
	  </td>
	  <td><iframe id="score" width="400" height="522">text</iframe></td>
      </table>
      <hr />
      <h2>Information getter</h2>
      <table>
	<tr>
	  <td>
	    <form action="getGuido.php" target="getdisplay" method="post">
	      <select name="getmenu" id="getmenu" onchange="manageAdditionalFields();">
	        <option value="gmn" selected>gmn</option>
	        <option value="width">width</option>
	        <option value="height">height</option>
	        <option value="page">page</option>
	        <option value="marginleft">left margin</option>
	        <option value="marginright">right margin</option>
	        <option value="margintop">top margin</option>
	        <option value="margintop">bottom margin</option>
	        <option value="resizepagetomusic">resize page to music</option>
	        <option value="format">format</option>
	        <option value="pagemap">page map</option>
	        <option value="systemmap">system map</option>
	        <option value="staffmap">staff map</option>
	        <option value="voicemap">voice map</option>
	        <option value="point">point</option>
	      </select><br />
	      <div id="extrafields"></div>
	      <input type="submit" value="get information">
	    </form>
	  </td>
	  <td><iframe id="getdisplay" width="400" height="522">text</iframe></td>
	</tr>
        </tr>
      </table>
    </center>
  </body>
</html>
