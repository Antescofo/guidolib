version: '3.7'

services:
  guidotools:
    build:
      context: .
    volumes:
      - ./tools:/app/tools
      - ./platforms:/app/platforms
      - ./server:/app/server
      - ./lang:/app/lang

# docker-compose build && time docker-compose run --rm -v ~/Desktop/accomp.xml:/accomp.xml -v ~/Desktop/accomp.asco:/accomp.asco -v ~/Desktop/accomp.mp3:/accomp.mp3 guidotools videogen.sh /accomp.xml /accomp.asco /accomp.mp3 final_output.mp4


# Create a random accompanimement that is not generated yet
# docker-compose run --rm guidotools generate_video

# Create a specific accompaniment
# docker-compose run --rm guidotools generate_video ACCOM_PK
